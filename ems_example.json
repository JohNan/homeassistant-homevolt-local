{
  "$type": "ems_data",
  "ts": 1746742127,
  "ems": [
    {
      "ecu_id": 58109703998024,
      "ecu_host": "",
      "ecu_version": "",
      "error": 0,
      "error_str": "No error",
      "op_state": 1,
      "op_state_str": "idle",
      "ems_info": {
        "protocol_version": 5,
        "fw_version": "v31",
        "rated_capacity": 6652,
        "rated_power": 6000
      },
      "bms_info": [
        {
          "fw_version": "v4-44-g1413a7d",
          "serial_number": "80000274099924480542",
          "rated_cap": 6652,
          "id": 0
        }
      ],
      "inv_info": {
        "fw_version": "V1.10-97.0",
        "serial_number": "80000296089924470035"
      },
      "ems_config": {
        "grid_code_preset": 9,
        "grid_code_preset_str": "Sweden",
        "control_timeout": true
      },
      "inv_config": {
        "ffr_fstart_freq": 9900
      },
      "ems_control": {
        "mode_sel": 1,
        "pwr_ref": 0,
        "freq_res_mode": 0,
        "freq_res_pwr_fcr_n": 0,
        "freq_res_pwr_fcr_d_up": 0,
        "freq_res_pwr_fcr_d_down": 0,
        "freq_res_pwr_ref_ffr": 0,
        "act_pwr_ch_lim": 6000,
        "act_pwr_di_lim": 6028,
        "react_pwr_pos_limit": 7000,
        "react_pwr_neg_limit": 7000,
        "freq_test_seq": 0,
        "data_usage": 0,
        "allow_dfu": false
      },
      "ems_data": {
        "timestamp_ms": 1746742127000,
        "state": 3,
        "state_str": "Running",
        "info": 269,
        "info_str": [
          "EMS_INFO_FAN_STATE_ON",
          "EMS_INFO_CONNECTED_TO_BACKEND",
          "EMS_INFO_RTC_SYNCRONIZED",
          "EMS_INFO_LOW_POWER_MODE"
        ],
        "warning": 0,
        "warning_str": [],
        "alarm": 0,
        "alarm_str": [],
        "phase_angle": 90,
        "frequency": 49978,
        "phase_seq": 1,
        "power": -9,
        "apparent_power": -9,
        "reactive_power": 0,
        "energy_produced": 384670,
        "energy_consumed": 435788,
        "sys_temp": 226,
        "avail_cap": 6108,
        "freq_res_state": 0,
        "soc_avg": 2437
      },
      "bms_data": [
        {
          "energy_avail": 1496,
          "cycle_count": 59,
          "soc": 2447,
          "state": 5,
          "state_str": "Connected",
          "alarm": 0,
          "alarm_str": [],
          "tmin": 189,
          "tmax": 209
        }
      ],
      "ems_prediction": {
        "avail_ch_pwr": 6000,
        "avail_di_pwr": 6028,
        "avail_ch_energy": 4618,
        "avail_di_energy": 1490,
        "avail_inv_ch_pwr": 6000,
        "avail_inv_di_pwr": 6028,
        "avail_group_fuse_ch_pwr": 11424,
        "avail_group_fuse_di_pwr": 11424
      },
      "ems_voltage": {
        "l1": 2390,
        "l2": 2391,
        "l3": 2387,
        "l1_l2": 4141,
        "l2_l3": 4143,
        "l3_l1": 4131
      },
      "ems_current": {
        "l1": 0,
        "l2": 0,
        "l3": 0
      },
      "ems_aggregate": {
        "imported_kwh": 388.58,
        "exported_kwh": 452.27
      },
      "error_cnt": 0
    },
    {
      "ecu_id": 171913485994568,
      "ecu_host": "FE80::4ACA:43FF:FEBA:5A9C%st2",
      "ecu_version": "",
      "error": 0,
      "error_str": "No error",
      "op_state": 1,
      "op_state_str": "idle",
      "ems_info": {
        "protocol_version": 5,
        "fw_version": "v31.3",
        "rated_capacity": 6652,
        "rated_power": 6000
      },
      "bms_info": [
        {
          "fw_version": "v4-44-g1413a7d",
          "serial_number": "80000274099924480521",
          "rated_cap": 6652,
          "id": 0
        }
      ],
      "inv_info": {
        "fw_version": "V1.10-97.0",
        "serial_number": "80000296089924460566"
      },
      "ems_config": {
        "grid_code_preset": 9,
        "grid_code_preset_str": "Sweden",
        "control_timeout": true
      },
      "inv_config": {
        "ffr_fstart_freq": 9900
      },
      "ems_control": {
        "mode_sel": 1,
        "pwr_ref": 0,
        "freq_res_mode": 0,
        "freq_res_pwr_fcr_n": 0,
        "freq_res_pwr_fcr_d_up": 0,
        "freq_res_pwr_fcr_d_down": 0,
        "freq_res_pwr_ref_ffr": 0,
        "act_pwr_ch_lim": 0,
        "act_pwr_di_lim": 0,
        "react_pwr_pos_limit": 0,
        "react_pwr_neg_limit": 0,
        "freq_test_seq": 0,
        "data_usage": 0,
        "allow_dfu": false
      },
      "ems_data": {
        "timestamp_ms": 1746742127000,
        "state": 5,
        "state_str": "Fault",
        "info": 12,
        "info_str": [
          "EMS_INFO_CONNECTED_TO_BACKEND",
          "EMS_INFO_RTC_SYNCRONIZED"
        ],
        "warning": 0,
        "warning_str": [],
        "alarm": 0,
        "alarm_str": [],
        "phase_angle": 90,
        "frequency": 49978,
        "phase_seq": 1,
        "power": 0,
        "apparent_power": 0,
        "reactive_power": 0,
        "energy_produced": 233441,
        "energy_consumed": 267768,
        "sys_temp": 199,
        "avail_cap": 6107,
        "freq_res_state": 0,
        "soc_avg": 9080
      },
      "bms_data": [
        {
          "energy_avail": 5546,
          "cycle_count": 36,
          "soc": 9068,
          "state": 5,
          "state_str": "Connected",
          "alarm": 0,
          "alarm_str": [],
          "tmin": 148,
          "tmax": 166
        }
      ],
      "ems_prediction": {
        "avail_ch_pwr": 0,
        "avail_di_pwr": 0,
        "avail_ch_energy": 554,
        "avail_di_energy": 5553,
        "avail_inv_ch_pwr": 0,
        "avail_inv_di_pwr": 0,
        "avail_group_fuse_ch_pwr": 11376,
        "avail_group_fuse_di_pwr": 11376
      },
      "ems_voltage": {
        "l1": 2377,
        "l2": 2382,
        "l3": 2386,
        "l1_l2": 4124,
        "l2_l3": 4133,
        "l3_l1": 4117
      },
      "ems_current": {
        "l1": 0,
        "l2": 0,
        "l3": 0
      },
      "ems_aggregate": {
        "imported_kwh": 235.93,
        "exported_kwh": 281.71
      },
      "error_cnt": 0
    }
  ],
  "aggregated": {
    "ecu_id": 0,
    "ecu_host": "",
    "ecu_version": "",
    "error": 0,
    "error_str": "No error",
    "op_state": 1,
    "op_state_str": "idle",
    "ems_info": {
      "protocol_version": 5,
      "fw_version": "v31",
      "rated_capacity": 6652,
      "rated_power": 6000
    },
    "bms_info": [
      {
        "fw_version": "v4-44-g1413a7d",
        "serial_number": "80000274099924480542",
        "rated_cap": 6652,
        "id": 0
      }
    ],
    "inv_info": {
      "fw_version": "V1.10-97.0",
      "serial_number": "80000296089924470035"
    },
    "ems_config": {
      "grid_code_preset": 9,
      "grid_code_preset_str": "Sweden",
      "control_timeout": true
    },
    "inv_config": {
      "ffr_fstart_freq": 9900
    },
    "ems_control": {
      "mode_sel": 1,
      "pwr_ref": 0,
      "freq_res_mode": 0,
      "freq_res_pwr_fcr_n": 0,
      "freq_res_pwr_fcr_d_up": 0,
      "freq_res_pwr_fcr_d_down": 0,
      "freq_res_pwr_ref_ffr": 0,
      "act_pwr_ch_lim": 6000,
      "act_pwr_di_lim": 6028,
      "react_pwr_pos_limit": 7000,
      "react_pwr_neg_limit": 7000,
      "freq_test_seq": 0,
      "data_usage": 0,
      "allow_dfu": false
    },
    "ems_data": {
      "timestamp_ms": 1746742127000,
      "state": 3,
      "state_str": "Running",
      "info": 269,
      "info_str": [
        "EMS_INFO_FAN_STATE_ON",
        "EMS_INFO_CONNECTED_TO_BACKEND",
        "EMS_INFO_RTC_SYNCRONIZED",
        "EMS_INFO_LOW_POWER_MODE"
      ],
      "warning": 0,
      "warning_str": [],
      "alarm": 0,
      "alarm_str": [],
      "phase_angle": 90,
      "frequency": 49978,
      "phase_seq": 1,
      "power": -9,
      "apparent_power": -9,
      "reactive_power": 0,
      "energy_produced": 384670,
      "energy_consumed": 435788,
      "sys_temp": 226,
      "avail_cap": 6108,
      "freq_res_state": 0,
      "soc_avg": 2437
    },
    "bms_data": [
      {
        "energy_avail": 1496,
        "cycle_count": 59,
        "soc": 2447,
        "state": 5,
        "state_str": "Connected",
        "alarm": 0,
        "alarm_str": [],
        "tmin": 189,
        "tmax": 209
      }
    ],
    "ems_prediction": {
      "avail_ch_pwr": 6000,
      "avail_di_pwr": 6028,
      "avail_ch_energy": 4618,
      "avail_di_energy": 1490,
      "avail_inv_ch_pwr": 6000,
      "avail_inv_di_pwr": 6028,
      "avail_group_fuse_ch_pwr": 11424,
      "avail_group_fuse_di_pwr": 11424
    },
    "ems_voltage": {
      "l1": 2390,
      "l2": 2391,
      "l3": 2387,
      "l1_l2": 4141,
      "l2_l3": 4143,
      "l3_l1": 4131
    },
    "ems_current": {
      "l1": 0,
      "l2": 0,
      "l3": 0
    },
    "ems_aggregate": {
      "imported_kwh": 388.58,
      "exported_kwh": 452.27
    },
    "error_cnt": 0
  },
  "sensors": [
    {
      "type": "grid",
      "node_id": 2,
      "euid": "a46dd4fffea25015",
      "interface": 0,
      "available": true,
      "rssi": -63,
      "average_rssi": -62.99,
      "pdr": 100,
      "phase": [
        {
          "voltage": 238.9,
          "amp": 4.21,
          "power": 921.08,
          "pf": 0.92
        },
        {
          "voltage": 239.2,
          "amp": 4.67,
          "power": 1071.34,
          "pf": 0.96
        },
        {
          "voltage": 238.7,
          "amp": 5.11,
          "power": 1156.38,
          "pf": 0.95
        }
      ],
      "frequency": 0,
      "total_power": 3148,
      "energy_imported": 4330.33,
      "energy_exported": 1375.03,
      "timestamp": 1746742127
    },
    {
      "type": "solar",
      "node_id": 3,
      "euid": "a46dd4fffea2561b",
      "interface": 0,
      "available": true,
      "rssi": -87,
      "average_rssi": -86.96,
      "pdr": 98.67,
      "phase": [
        {
          "voltage": 239,
          "amp": 0,
          "power": 0,
          "pf": 0
        },
        {
          "voltage": 239.1,
          "amp": 0,
          "power": 0,
          "pf": 0
        },
        {
          "voltage": 238.7,
          "amp": 0,
          "power": 0,
          "pf": 0
        }
      ],
      "frequency": 0,
      "total_power": 0,
      "energy_imported": 1137.23,
      "energy_exported": 0.18,
      "timestamp": 0
    },
    {
      "type": "load",
      "node_id": 0,
      "euid": "0000000000000000",
      "interface": 0,
      "available": true,
      "rssi": 0,
      "average_rssi": 0,
      "pdr": 0,
      "phase": [
        {
          "voltage": 238.9,
          "amp": 0,
          "power": 0,
          "pf": 0
        },
        {
          "voltage": 239.2,
          "amp": 0,
          "power": 0,
          "pf": 0
        },
        {
          "voltage": 238.7,
          "amp": 0,
          "power": 0,
          "pf": 0
        }
      ],
      "frequency": 0,
      "total_power": -3139,
      "energy_imported": 972.69,
      "energy_exported": 5004.77,
      "timestamp": 1746742127000
    }
  ]
}